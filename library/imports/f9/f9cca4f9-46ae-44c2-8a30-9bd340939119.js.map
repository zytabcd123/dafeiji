{"version":3,"sources":["../../../../assets/Script/assets/Script/Hero.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;;;;;;;;;;;;;;;;;;;;AAE7F,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAAkC,wBAAY;IAA9C;;IAiDA,CAAC;IA/CG,wBAAwB;IAExB,qBAAM,GAAN;QACI,EAAE,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAA;QACxB,EAAE,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;QACjD,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAED,oBAAK,GAAL;IAEA,CAAC;IAED,iBAAiB;IAEjB,QAAQ;IACR,qBAAM,GAAN;QACI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACnD,CAAC;IACD,QAAQ;IACR,sBAAO,GAAP;QACK,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC;IACD,IAAI;IACJ,uBAAQ,GAAR,UAAS,KAAK;QACV,IAAI,SAAS,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;QACpC,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC;QAChE,UAAU;QACV,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAC,CAAC,CAAA;QACpC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC;QACjB,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAC,CAAC,CAAA;QACrC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC;QACjB,IAAI,QAAQ,CAAC,CAAC,GAAE,IAAI,EAAC;YACjB,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC;SACrB;QACD,IAAI,QAAQ,CAAC,CAAC,GAAC,IAAI,EAAC;YAChB,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC;SACrB;QACD,IAAI,QAAQ,CAAC,CAAC,GAAE,IAAI,EAAC;YACjB,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC;SACrB;QACD,IAAI,QAAQ,CAAC,CAAC,GAAE,IAAI,EAAC;YACjB,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC;SACrB;QACD,uCAAuC;QACvC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;IACpC,CAAC;IA/CgB,IAAI;QADxB,OAAO;OACa,IAAI,CAiDxB;IAAD,WAAC;CAjDD,AAiDC,CAjDiC,EAAE,CAAC,SAAS,GAiD7C;kBAjDoB,IAAI","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Hero extends cc.Component {\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        cc.log('~~~~~~~~~~英雄加载')\n        cc.director.getCollisionManager().enabled = true;\n        this.onDrag();\n    }\n\n    start () {\n\n    }\n\n    // update (dt) {}\n\n    //添加拖动监听\n    onDrag(){\n        this.node.on('touchmove', this.dragMove, this);\n    }\n    //去掉拖动监听\n    offDrag(){ \n         this.node.off('touchmove', this.dragMove, this);\n    }\n    //拖动\n    dragMove(event){ \n        var locationv = event.getLocation();\n        var location = this.node.parent.convertToNodeSpaceAR(locationv);\n        //飞机不移出屏幕 \n        var minX = -this.node.parent.width/2\n        var maxX = -minX;\n        var minY = -this.node.parent.height/2\n        var maxY = -minY;\n        if (location.x< minX){\n            location.x = minX;\n        }\n        if (location.x>maxX){\n            location.x = maxX;\n        }\n        if (location.y< minY){\n            location.y = minY;\n        }\n        if (location.y> maxY){\n            location.y = maxY;\n        }\n        // cc.log('飞机', location.x, location.y)\n        this.node.setPosition(location);\n    }\n\n}\n"]}