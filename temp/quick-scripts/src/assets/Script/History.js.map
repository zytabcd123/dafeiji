{"version":3,"sources":["../../../../assets/Script/assets/Script/History.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;;;;;;;;;;;;;;;;;;;;AAE7F,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAAqC,2BAAY;IADjD;QAAA,qEAuCC;QApCsB,gBAAU,GAAY,IAAI,CAAA;QACxB,eAAS,GAAc,IAAI,CAAA;;IAmCpD,CAAC;IAjCG,wBAAM,GAAN;QAEI,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;QACd,6BAA6B;QAC7B,qBAAqB;QACrB,gBAAgB;QAChB,gDAAgD;QAChD,qCAAqC;QACrC,IAAI;QAEJ,IAAI,CAAC,UAAU,EAAE,CAAA;IACrB,CAAC;IAED,4BAAU,GAAV;QACI,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAA;QAChE,IAAI,EAAE,IAAI,IAAI,EAAE;YAAC,OAAM;SAAC;QACxB,iDAAiD;QAEjD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,EAAG,EAAE;YAClC,IAAI,GAAG,GAAG,QAAQ,GAAG,CAAC,CAAA;YACtB,cAAc;YACd,sCAAsC;YACtC,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAA;YAErD,IAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;YACzC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAA;YAC9B,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,CAAA;SAChE;IACL,CAAC;IAED,4BAAU,GAAV;QACI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;IACtC,CAAC;IAnCkB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;+CAA2B;IACxB;QAApB,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;8CAA4B;IAH/B,OAAO;QAD3B,OAAO;OACa,OAAO,CAsC3B;IAAD,cAAC;CAtCD,AAsCC,CAtCoC,EAAE,CAAC,SAAS,GAsChD;kBAtCoB,OAAO","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class History extends cc.Component {\n\n    @property(cc.Node) scrollView: cc.Node = null\n    @property(cc.Prefab) scoreCell: cc.Prefab = null\n\n    onLoad() {\n\n        cc.log('历史记录')\n        // let s = [0, 1, 2, 3, 4, 5]\n        // for (let i in s) {\n        //     cc.log(i)\n        //     var cell = cc.instantiate(this.scoreCell)\n        //     this.scrollView.addChild(cell)\n        // }\n\n        this.reloadData()\n    }\n\n    reloadData() {\n        let cd = JSON.parse(cc.sys.localStorage.getItem('currentScore'))\n        if (cd == null) {return}\n        // cc.sys.localStorage.removeItem('currentScore')\n\n        for (var i = 0; i < cd.idx + 1; i ++) {\n            let key = 'score_' + i\n            // cc.log(key)\n            // cc.sys.localStorage.removeItem(key)\n            let sd = JSON.parse(cc.sys.localStorage.getItem(key))\n            \n            var cell = cc.instantiate(this.scoreCell)\n            this.scrollView.addChild(cell)\n            cell.getComponent('ScoreCell').reloadData(sd.score, sd.ctime)\n        }\n    }\n\n    backAction() {\n        cc.director.loadScene('endScene');\n    }\n}\n"]}